<!DOCTYPE html>
<html lang="en"></html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Impact</title>
    </head>

    <body>
        <a href="./index.html">Homepage</a>
        <h1>Impact</h1>

    </body>

</html>

<!DOCTYPE html>
<html>
  <head>
    <title>Impact</title>
    <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=visualization"></script>
    <style>
      #map {
        height: 100vh;
        width: 100%;
      }
    </style>
  </head>
  <body>
    <div id="map"></div>
    <script>
      let map, heatmap;

      async function initMap() {
        map = new google.maps.Map(document.getElementById("map"), {
          zoom: 13,
          center: { lat: 37.7749, lng: -122.4194 }, // Example center
          mapTypeId: "roadmap",
        });

        // Fetch dirtiness data from backend
        const response = await fetch("http://localhost:5000/api/trash");
        const spots = await response.json();

        const trashData = spots.map((spot) => ({
          location: new google.maps.LatLng(spot.lat, spot.lng),
          weight: spot.score,
        }));

        // Heatmap Layer
        heatmap = new google.maps.visualization.HeatmapLayer({
          data: trashData,
          map: map,
          radius: 40,
          opacity: 0.7,
        });

        // Optional: custom color gradient
        const gradient = [
          "rgba(0, 255, 0, 0)",   // green (clean)
          "rgba(255, 255, 0, 1)", // yellow (medium dirty)
          "rgba(255, 0, 0, 1)"    // red (very dirty)
        ];
        heatmap.set("gradient", gradient);
      }

      window.onload = initMap;
    </script>
  </body>
</html>